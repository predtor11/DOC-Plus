
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘           DOC+ Medical Assistant Architecture                 â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    ğŸ“ Project Structure:
    
    â”œâ”€â”€ ğŸ¨ Frontend (React + TypeScript + Vite)
    â”‚   â”œâ”€â”€ Pages/
    â”‚   â”‚   â”œâ”€â”€ DoctorDashboard - Doctor main interface
    â”‚   â”‚   â”œâ”€â”€ DoctorChat - Doctor-patient messaging
    â”‚   â”‚   â”œâ”€â”€ AIChat - AI therapeutic chat for patients
    â”‚   â”‚   â”œâ”€â”€ PatientRegistration - New patient onboarding
    â”‚   â”‚   â””â”€â”€ SignIn/SignUp - Authentication pages
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Components/
    â”‚   â”‚   â”œâ”€â”€ ChatInterface - Main chat UI component
    â”‚   â”‚   â”œâ”€â”€ ChatWindow - Message display and input
    â”‚   â”‚   â”œâ”€â”€ DoctorOnboarding - Doctor registration flow
    â”‚   â”‚   â”œâ”€â”€ DoctorProfile - Doctor information management
    â”‚   â”‚   â””â”€â”€ PatientProfile - Patient information display
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Contexts/
    â”‚   â”‚   â””â”€â”€ AuthContext - Global authentication state
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Hooks/
    â”‚   â”‚   â”œâ”€â”€ useChatSessions - Chat session management
    â”‚   â”‚   â””â”€â”€ useDoctorPatientChat - Doctor-patient chat logic
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Services/
    â”‚   â”‚   â””â”€â”€ openRouterService - AI integration service
    â”‚   â”‚
    â”‚   â””â”€â”€ Integrations/
    â”‚       â””â”€â”€ supabase/ - Supabase client configuration
    â”‚
    â”œâ”€â”€ ğŸ” Authentication (Clerk)
    â”‚   â”œâ”€â”€ User Management
    â”‚   â”œâ”€â”€ Session Handling
    â”‚   â””â”€â”€ Role-based Access Control (Doctor/Patient)
    â”‚
    â”œâ”€â”€ ğŸ—„ï¸ Backend (Supabase)
    â”‚   â”œâ”€â”€ PostgreSQL Database
    â”‚   â”‚   â”œâ”€â”€ doctors - Doctor profiles and credentials
    â”‚   â”‚   â”œâ”€â”€ patients - Patient records and medical history
    â”‚   â”‚   â”œâ”€â”€ chat_sessions - Conversation sessions
    â”‚   â”‚   â””â”€â”€ chat_messages - Individual messages
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Row Level Security (RLS)
    â”‚   â”‚   â”œâ”€â”€ Doctor policies - Access to assigned patients
    â”‚   â”‚   â””â”€â”€ Patient policies - Access to own data
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Edge Functions
    â”‚   â”‚   â””â”€â”€ Serverless backend logic
    â”‚   â”‚
    â”‚   â””â”€â”€ Storage
    â”‚       â””â”€â”€ Medical file uploads
    â”‚
    â””â”€â”€ ğŸ”Œ External Services
        â”œâ”€â”€ OpenRouter API - AI/ML models (GPT-OSS-20B)
        â””â”€â”€ Resend - Email delivery service
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    ğŸ”„ Key Data Flows:
    
    1. Doctor Registration:
       Doctor â†’ Clerk Auth â†’ Supabase â†’ doctors table
    
    2. Patient Registration:
       Doctor â†’ Patient Invitation â†’ Email â†’ Patient Signup
       â†’ Clerk Auth â†’ Supabase â†’ patients table
    
    3. Chat Communication:
       User â†’ ChatInterface â†’ useChatSessions Hook
       â†’ Supabase Realtime â†’ chat_sessions/chat_messages
    
    4. AI Therapeutic Chat:
       Patient â†’ AIChat â†’ openRouterService
       â†’ OpenRouter API â†’ GPT-OSS-20B â†’ Response
    
    5. File Upload:
       User â†’ Component â†’ Supabase Storage â†’ File URL
       â†’ Database Reference
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    ğŸ“Š Technology Stack:
    
    Frontend:
    - React 18 + TypeScript
    - Vite (Build Tool)
    - Tailwind CSS + shadcn/ui
    - React Query (@tanstack/react-query)
    - React Router
    
    Authentication:
    - Clerk (@clerk/clerk-react)
    
    Backend:
    - Supabase (@supabase/supabase-js)
    - PostgreSQL (via Supabase)
    - Supabase Edge Functions
    
    AI/ML:
    - OpenRouter API
    - GPT-OSS-20B Model
    
    Other Services:
    - Resend (Email)
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    